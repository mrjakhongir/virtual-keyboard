// const lowerLetters = [
//   'q',
//   'w',
//   'e',
//   'r',
//   't',
//   'y',
//   'u',
//   'i',
//   'o',
//   'p',
//   'a',
//   's',
//   'd',
//   'f',
//   'g',
//   'h',
//   'j',
//   'k',
//   'l',
//   'z',
//   'x',
//   'c',
//   'v',
//   'b',
//   'n',
//   'm',
// ];

const firstRow = [
  {
    keyName: 'Backquote',
    symbolRusDown: 'ё',
    symbolRusUp: 'Ё',
    symbolEngUp: '~',
    symbolEngDown: '`',
  },
  {
    keyName: 'Digit1',
    symbolRusDown: '1',
    symbolRusUp: '!',
    symbolEngDown: '1',
    symbolEngUp: '!',
  },
  {
    keyName: 'Digit2',
    symbolRusDown: '2',
    symbolRusUp: '"',
    symbolEngDown: '2',
    symbolEngUp: '@',
  },
  {
    keyName: 'Digit3',
    symbolRusDown: '3',
    symbolRusUp: '№',
    symbolEngDown: '3',
    symbolEngUp: '#',
  },
  {
    keyName: 'Digit4',
    symbolRusDown: '4',
    symbolRusUp: ';',
    symbolEngDown: '4',
    symbolEngUp: '$',
  },
  {
    keyName: 'Digit5',
    symbolRusDown: '5',
    symbolRusUp: '%',
    symbolEngDown: '5',
    symbolEngUp: '%',
  },
  {
    keyName: 'Digit6',
    symbolRusDown: '6',
    symbolRusUp: ':',
    symbolEngDown: '6',
    symbolEngUp: '^',
  },
  {
    keyName: 'Digit7',
    symbolRusDown: '7',
    symbolRusUp: '?',
    symbolEngDown: '7',
    symbolEngUp: '&',
  },
  {
    keyName: 'Digit8',
    symbolRusDown: '8',
    symbolRusUp: '*',
    symbolEngDown: '8',
    symbolEngUp: '*',
  },
  {
    keyName: 'Digit9',
    symbolRusDown: '9',
    symbolRusUp: '(',
    symbolEngDown: '9',
    symbolEngUp: '(',
  },
  {
    keyName: 'Digit0',
    symbolRusDown: '0',
    symbolRusUp: ')',
    symbolEngDown: '0',
    symbolEngUp: ')',
  },
  {
    keyName: 'Minus',
    symbolRusDown: '-',
    symbolRusUp: '_',
    symbolEngDown: '-',
    symbolEngUp: '_',
  },
  {
    keyName: 'Equal',
    symbolRusDown: '=',
    symbolRusUp: '+',
    symbolEngDown: '=',
    symbolEngUp: '+',
  },
  {
    keyName: 'Backspace',
    symbolRusDown: 'Backspace',
    symbolRusUp: 'Backspace',
    symbolEngDown: 'Backspace',
    symbolEngUp: 'Backspace',
  },
];

const secondRow = [
  {
    keyName: 'Tab',
    symbolRusDown: 'Tab',
    symbolRusUp: 'Tab',
    symbolEngUp: 'Tab',
    symbolEngDown: 'Tab',
  },
  {
    keyName: 'keyQ',
    symbolRusDown: 'й',
    symbolRusUp: 'Й',
    symbolEngDown: 'q',
    symbolEngUp: 'Q',
  },
  {
    keyName: 'keyW',
    symbolRusDown: 'ц',
    symbolRusUp: 'Ц',
    symbolEngDown: 'w',
    symbolEngUp: 'W',
  },
  {
    keyName: 'keyE',
    symbolRusDown: 'у',
    symbolRusUp: 'У',
    symbolEngDown: 'e',
    symbolEngUp: 'E',
  },
  {
    keyName: 'keyR',
    symbolRusDown: 'к',
    symbolRusUp: 'К',
    symbolEngDown: 'r',
    symbolEngUp: 'R',
  },
  {
    keyName: 'keyT',
    symbolRusDown: 'е',
    symbolRusUp: 'Е',
    symbolEngDown: 't',
    symbolEngUp: 'T',
  },
  {
    keyName: 'keyY',
    symbolRusDown: 'н',
    symbolRusUp: 'Н',
    symbolEngDown: 'y',
    symbolEngUp: 'Y',
  },
  {
    keyName: 'keyU',
    symbolRusDown: 'г',
    symbolRusUp: 'Г',
    symbolEngDown: 'u',
    symbolEngUp: 'U',
  },
  {
    keyName: 'keyI',
    symbolRusDown: 'ш',
    symbolRusUp: 'Ш',
    symbolEngDown: 'i',
    symbolEngUp: 'I',
  },
  {
    keyName: 'keyO',
    symbolRusDown: 'щ',
    symbolRusUp: 'Щ',
    symbolEngDown: 'o',
    symbolEngUp: 'O',
  },
  {
    keyName: 'keyP',
    symbolRusDown: 'з',
    symbolRusUp: 'З',
    symbolEngDown: 'p',
    symbolEngUp: 'P',
  },
  {
    keyName: 'BracketLeft',
    symbolRusDown: 'х',
    symbolRusUp: 'Х',
    symbolEngDown: '[',
    symbolEngUp: '{',
  },
  {
    keyName: 'BracketRight',
    symbolRusDown: 'ъ',
    symbolRusUp: 'Ъ',
    symbolEngDown: ']',
    symbolEngUp: '}',
  },
  {
    keyName: 'BackSlash',
    symbolRusDown: '&#92;',
    symbolRusUp: '/',
    symbolEngDown: '&#92;',
    symbolEngUp: '|',
  },
  {
    keyName: 'Delete',
    symbolRusDown: 'Del',
    symbolRusUp: 'Del',
    symbolEngDown: 'Del',
    symbolEngUp: 'Del',
  },
];

const thirdRow = [
  {
    keyName: 'CapsLock',
    symbolRusDown: 'CapsLock',
    symbolRusUp: 'CapsLock',
    symbolEngUp: 'CapsLock',
    symbolEngDown: 'CapsLock',
  },
  {
    keyName: 'keyA',
    symbolRusDown: 'ф',
    symbolRusUp: 'Ф',
    symbolEngDown: 'a',
    symbolEngUp: 'A',
  },
  {
    keyName: 'keyS',
    symbolRusDown: 'ы',
    symbolRusUp: 'Ы',
    symbolEngDown: 's',
    symbolEngUp: 'S',
  },
  {
    keyName: 'keyD',
    symbolRusDown: 'в',
    symbolRusUp: 'В',
    symbolEngDown: 'd',
    symbolEngUp: 'D',
  },
  {
    keyName: 'keyF',
    symbolRusDown: 'а',
    symbolRusUp: 'А',
    symbolEngDown: 'f',
    symbolEngUp: 'F',
  },
  {
    keyName: 'keyG',
    symbolRusDown: 'п',
    symbolRusUp: 'П',
    symbolEngDown: 'g',
    symbolEngUp: 'G',
  },
  {
    keyName: 'keyH',
    symbolRusDown: 'р',
    symbolRusUp: 'Р',
    symbolEngDown: 'h',
    symbolEngUp: 'H',
  },
  {
    keyName: 'keyJ',
    symbolRusDown: 'о',
    symbolRusUp: 'О',
    symbolEngDown: 'j',
    symbolEngUp: 'J',
  },
  {
    keyName: 'keyK',
    symbolRusDown: 'л',
    symbolRusUp: 'Л',
    symbolEngDown: 'k',
    symbolEngUp: 'K',
  },
  {
    keyName: 'keyL',
    symbolRusDown: 'д',
    symbolRusUp: 'Д',
    symbolEngDown: 'l',
    symbolEngUp: 'L',
  },
  {
    keyName: 'Semicolon',
    symbolRusDown: 'ж',
    symbolRusUp: 'Ж',
    symbolEngDown: ';',
    symbolEngUp: ':',
  },
  {
    keyName: 'Quote',
    symbolRusDown: 'э',
    symbolRusUp: 'Э',
    symbolEngDown: "'",
    symbolEngUp: '"',
  },
  {
    keyName: 'Enter',
    symbolRusDown: 'Enter',
    symbolRusUp: 'Enter',
    symbolEngDown: 'Enter',
    symbolEngUp: 'Enter',
  },
];

const fourthRow = [
  {
    keyName: 'ShiftLeft',
    symbolRusDown: 'Shift',
    symbolRusUp: 'Shift',
    symbolEngUp: 'Shift',
    symbolEngDown: 'Shift',
  },
  {
    keyName: 'keyZ',
    symbolRusDown: 'я',
    symbolRusUp: 'Я',
    symbolEngDown: 'z',
    symbolEngUp: 'Z',
  },
  {
    keyName: 'keyX',
    symbolRusDown: 'ч',
    symbolRusUp: 'Ч',
    symbolEngDown: 'x',
    symbolEngUp: 'X',
  },
  {
    keyName: 'keyC',
    symbolRusDown: 'с',
    symbolRusUp: 'С',
    symbolEngDown: 'c',
    symbolEngUp: 'C',
  },
  {
    keyName: 'keyV',
    symbolRusDown: 'м',
    symbolRusUp: 'М',
    symbolEngDown: 'v',
    symbolEngUp: 'V',
  },
  {
    keyName: 'keyB',
    symbolRusDown: 'и',
    symbolRusUp: 'И',
    symbolEngDown: 'b',
    symbolEngUp: 'B',
  },
  {
    keyName: 'keyN',
    symbolRusDown: 'т',
    symbolRusUp: 'Т',
    symbolEngDown: 'n',
    symbolEngUp: 'N',
  },
  {
    keyName: 'keyM',
    symbolRusDown: 'ь',
    symbolRusUp: 'Ь',
    symbolEngDown: 'm',
    symbolEngUp: 'M',
  },
  {
    keyName: 'Comma',
    symbolRusDown: 'б',
    symbolRusUp: 'Б',
    symbolEngDown: ',',
    symbolEngUp: '<',
  },
  {
    keyName: 'Period',
    symbolRusDown: 'ю',
    symbolRusUp: 'Ю',
    symbolEngDown: '.',
    symbolEngUp: '>',
  },
  {
    keyName: 'Slash',
    symbolRusDown: '.',
    symbolRusUp: ',',
    symbolEngDown: '/',
    symbolEngUp: '?',
  },
  {
    keyName: 'ArrowUp',
    symbolRusDown: '▲',
    symbolRusUp: '▲',
    symbolEngDown: '▲',
    symbolEngUp: '▲',
  },
  {
    keyName: 'ShiftRight',
    symbolRusDown: 'Shift',
    symbolRusUp: 'Shift',
    symbolEngDown: 'Shift',
    symbolEngUp: 'Shift',
  },
];

const fifthRow = [
  {
    keyName: 'ControlLeft',
    symbolRusDown: 'Ctrl',
    symbolRusUp: 'Ctrl',
    symbolEngUp: 'Ctrl',
    symbolEngDown: 'Ctrl',
  },
  {
    keyName: 'Meta',
    symbolRusDown: 'Win',
    symbolRusUp: 'Win',
    symbolEngDown: 'Win',
    symbolEngUp: 'Win',
  },
  {
    keyName: 'AltLeft',
    symbolRusDown: 'Alt',
    symbolRusUp: 'Alt',
    symbolEngDown: 'Alt',
    symbolEngUp: 'Alt',
  },
  {
    keyName: 'Space',
    symbolRusDown: '',
    symbolRusUp: '',
    symbolEngDown: '',
    symbolEngUp: '',
  },
  {
    keyName: 'AltRight',
    symbolRusDown: 'Alt',
    symbolRusUp: 'Alt',
    symbolEngDown: 'Alt',
    symbolEngUp: 'Alt',
  },
  {
    keyName: 'ArrowLeft',
    symbolRusDown: '◄',
    symbolRusUp: '◄',
    symbolEngDown: '◄',
    symbolEngUp: '◄',
  },
  {
    keyName: 'ArrowDown',
    symbolRusDown: '▼',
    symbolRusUp: '▼',
    symbolEngDown: '▼',
    symbolEngUp: '▼',
  },
  {
    keyName: 'ArrowRight',
    symbolRusDown: '►',
    symbolRusUp: '►',
    symbolEngDown: '►',
    symbolEngUp: '►',
  },
  {
    keyName: 'ControlRight',
    symbolRusDown: 'Ctrl',
    symbolRusUp: 'Ctrl',
    symbolEngDown: 'Ctrl',
    symbolEngUp: 'Ctrl',
  },
];

const firstRowHtml = firstRow
  .map(
    (key) =>
      `<div class="key ${key.keyName}">
    <span class="rus hidden">
      <span class="caseDown hidden">${key.symbolRusDown}</span>
      <span class="caseUp hidden">${key.symbolRusUp}</span>
      <span class="caps hidden">${key.symbolRusUp}</span>
      <span class="shiftCaps hidden">${key.symbolRusDown}</span>
    </span>
    <span class="eng">
      <span class="caseDown">${key.symbolEngDown}</span>
      <span class="caseUp hidden">${key.symbolEngUp}</span>
      <span class="caps hidden">${key.symbolEngDown}</span>
      <span class="shiftCaps hidden">${key.symbolEngUp}</span>
    </span>
  </div>`,
  )
  .join('');

const secondRowHtml = secondRow
  .map(
    (key) =>
      `<div class="key ${key.keyName}">
    <span class="rus hidden">
      <span class="caseDown hidden">${key.symbolRusDown}</span>
      <span class="caseUp hidden">${key.symbolRusUp}</span>
      <span class="caps hidden">${key.symbolRusUp}</span>
      <span class="shiftCaps hidden">${key.symbolRusDown}</span>
    </span>
    <span class="eng">
      <span class="caseDown">${key.symbolEngDown}</span>
      <span class="caseUp hidden">${key.symbolEngUp}</span>
      <span class="caps hidden">${key.symbolEngDown}</span>
      <span class="shiftCaps hidden">${key.symbolEngUp}</span>
    </span>
  </div>`,
  )
  .join('');
const thirdRowHtml = thirdRow
  .map(
    (key) =>
      `<div class="key ${key.keyName}">
        <span class="rus hidden">
          <span class="caseDown hidden">${key.symbolRusDown}</span>
          <span class="caseUp hidden">${key.symbolRusUp}</span>
          <span class="caps hidden">${key.symbolRusUp}</span>
          <span class="shiftCaps hidden">${key.symbolRusDown}</span>
        </span>
        <span class="eng">
          <span class="caseDown">${key.symbolEngDown}</span>
          <span class="caseUp hidden">${key.symbolEngUp}</span>
          <span class="caps hidden">${key.symbolEngDown}</span>
          <span class="shiftCaps hidden">${key.symbolEngUp}</span>
        </span>
      </div>`,
  )
  .join('');

const fourthRowHtml = fourthRow
  .map(
    (key) =>
      `<div class="key ${key.keyName}">
        <span class="rus hidden">
          <span class="caseDown hidden">${key.symbolRusDown}</span>
          <span class="caseUp hidden">${key.symbolRusUp}</span>
          <span class="caps hidden">${key.symbolRusUp}</span>
          <span class="shiftCaps hidden">${key.symbolRusDown}</span>
        </span>
        <span class="eng">
          <span class="caseDown">${key.symbolEngDown}</span>
          <span class="caseUp hidden">${key.symbolEngUp}</span>
          <span class="caps hidden">${key.symbolEngDown}</span>
          <span class="shiftCaps hidden">${key.symbolEngUp}</span>
        </span>
      </div>`,
  )
  .join('');

const fifthRowHtml = fifthRow
  .map(
    (key) =>
      `<div class="key ${key.keyName}">
        <span class="rus hidden">
          <span class="caseDown hidden">${key.symbolRusDown}</span>
          <span class="caseUp hidden">${key.symbolRusUp}</span>
          <span class="caps hidden">${key.symbolRusUp}</span>
          <span class="shiftCaps hidden">${key.symbolRusDown}</span>
        </span>
        <span class="eng">
          <span class="caseDown">${key.symbolEngDown}</span>
          <span class="caseUp hidden">${key.symbolEngUp}</span>
          <span class="caps hidden">${key.symbolEngDown}</span>
          <span class="shiftCaps hidden">${key.symbolEngUp}</span>
        </span>
      </div>`,
  )
  .join('');

const container = document.body;

container.innerHTML = `
  <div class="container">
    <h1 class="title">RSS Virtual Keyboard</h1>
    <div><textarea class="textarea" rows="5" cols=""></textarea></div>
    <div class="keyboard">
      <div class="row first-row">
      ${firstRowHtml}
      </div>
      <div class="row second-row">
      ${secondRowHtml}
      </div>
      <div class="row third-row">
      ${thirdRowHtml}
      </div>
      <div class="row fourth-row">
      ${fourthRowHtml}
      </div>
      <div class="row fifth-row">
        ${fifthRowHtml}</div>
    </div>
  </div>
  `;

// const textArea = document.querySelector('.textarea');
const keys = document.querySelectorAll('.key');
const spaceKey = document.querySelector('.Space');
const shiftLeftKey = document.querySelector('.ShiftLeft');
const shiftRightKey = document.querySelector('.ShiftRight');
const capsLockKey = document.querySelector('.CapsLock');
const altLeftKey = document.querySelector('.AltLeft');
const altRightKey = document.querySelector('.AltRight');
// const body = document.querySelector('body');

keys.forEach((key) => {
  key.setAttribute('keyname', key.innerText);
  key.setAttribute('upperCaseName', key.innerText.toUpperCase());
});

window.addEventListener('keydown', (e) => {
  keys.forEach((key) => {
    if (
      e.key === key.getAttribute('keyname') ||
      e.key === key.getAttribute('upperCaseName')
    ) {
      key.classList.add('active');
    }
    if (e.code === 'Space') {
      spaceKey.classList.add('active');
    }
    if (e.code === 'ShiftLeft') {
      shiftRightKey.classList.remove('active');
    }
    if (e.code === 'ShiftRight') {
      shiftLeftKey.classList.remove('active');
    }
    if (e.code === 'AltLeft') {
      altRightKey.classList.remove('active');
    }
    if (e.code === 'AltRight') {
      altLeftKey.classList.remove('active');
    }
    if (e.code === 'CapsLock') {
      capsLockKey.classList.toggle('active');
    }
  });
});

window.addEventListener('keyup', (e) => {
  keys.forEach((key) => {
    if (
      e.key === key.getAttribute('keyname') ||
      e.key === key.getAttribute('upperCaseName')
    ) {
      key.classList.remove('active');
      key.classList.add('remove');
    }
    if (e.code === 'Space') {
      spaceKey.classList.remove('active');
      spaceKey.classList.add('remove');
    }
    if (e.code === 'ShiftLeft') {
      shiftLeftKey.classList.remove('active');
      shiftRightKey.classList.remove('remove');
    }
    if (e.code === 'ShiftRight') {
      shiftRightKey.classList.remove('active');
      shiftLeftKey.classList.remove('remove');
    }
    if (e.code === 'AltLeft') {
      altLeftKey.classList.remove('active');
      altRightKey.classList.remove('remove');
    }
    if (e.code === 'AltRight') {
      altRightKey.classList.remove('active');
      altLeftKey.classList.remove('remove');
    }
    setTimeout(() => {
      key.classList.remove('remove');
    }, 200)
  });
});
